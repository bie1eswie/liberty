"use strict";(function(n){n.fn.sinaNav=function(){return this.each(function(){function w(){var r=n(window).scrollTop(),i=n(window).outerWidth();i>1599&&r>a?t.addClass("navbar-freez"):i<1600&&i>1199&&r>e?t.addClass("navbar-freez"):i<1200&&i>1024&&r>l?t.addClass("navbar-freez"):t.removeClass("navbar-freez")}function b(){var r=n(window).scrollTop(),i=n(window).outerWidth();i>1599&&r>a?t.removeClass("navbar-transparent"):i<1600&&i>1199&&r>e?t.removeClass("navbar-transparent"):i<1200&&i>1024&&r>l?t.removeClass("navbar-transparent"):t.addClass("navbar-transparent")}var t=n(this),e=t.data("top")||t.offset().top,l=t.data("md-top")||t.offset().top,a=t.data("xl-top")||t.offset().top,v=t.find(".sina-menu"),o=n(window).outerWidth(),c=t.data("animate-prefix")||"",r=v.data("in"),y=v.data("out"),i,f;n(window).on("resize",function(){o=n(window).outerWidth()});if(t.find(".sina-menu").each(function(){var t=n(this);t.on("click",function(i){"A"==i.target.tagName&&(t.find("li.active").removeClass("active"),n(i.target).parent().addClass("active"))});t.find("li.active").removeClass("active");t.find('a[href="'+location.href+'"]').parent("li").addClass("active")}),t.hasClass("logo-center")){var u=t.find(".sina-menu"),s=u.clone(),h=u.children("li"),p=Math.round(h.length/2);for(u.empty(),s.empty(),i=0;i<p;i++)u.append(h[i]);for(u.addClass("sina-menu-right").wrap('<div class="col-half left"><\/div>'),i=p;i<h.length;i++)s.append(h[i]);t.find(".col-half.left").after(s.addClass("sina-menu-dropdown-right sina-menu-left"));s.wrap('<div class="col-half right"><\/div>')}if(t.hasClass("mobile-sidebar"))if(f=t.find(".navbar-collapse"),n("body").children(".wrapper").length<1&&n("body").wrapInner('<div class="wrapper"><\/div>'),t.hasClass("navbar-reverse")){f.on("shown.bs.collapse",function(){n("body").addClass("mobile-right")});f.on("hide.bs.collapse",function(){n("body").removeClass("mobile-right")});n(window).on("resize",function(){n("body").removeClass("mobile-right");t.find(".navbar-collapse").removeClass("show");t.find(".navbar-toggle .fa",this).removeClass("fa-times").addClass("fa-bars")})}else{f.on("shown.bs.collapse",function(){n("body").addClass("mobile-left")});f.on("hide.bs.collapse",function(){n("body").removeClass("mobile-left")});n(window).on("resize",function(){n("body").removeClass("mobile-left");t.find(".navbar-collapse").removeClass("show");t.find(".navbar-toggle .fa",this).removeClass("fa-times").addClass("fa-bars")})}if(t.hasClass("navbar-fixed")){n(window).on("scroll",function(){w()});n(window).on("resize",function(){w()});o>1024&&n(window).scrollTop()>e&&t.addClass("navbar-freez")}if(t.hasClass("navbar-transparent")){n(window).on("scroll",function(){b()});n(window).on("resize",function(){b()});o>1024&&n(window).scrollTop()>e&&t.removeClass("navbar-transparent")}t.find(".extension-nav").each(function(){n(".search > a",this).on("click",function(t){t.preventDefault();n(".search-box").slideToggle()})});n(".search-addon.close-search").on("click",function(){n(".search-box").slideUp()});t.find(".extension-nav").each(function(){n(".widget-bar-btn > a",this).on("click",function(n){n.preventDefault();t.children(".widget-bar").toggleClass("on");t.children(".sina-nav-overlay").addClass("on").removeClass("off")})});t.find(".widget-bar .close-widget-bar").on("click",function(n){n.preventDefault();t.children(".widget-bar").removeClass("on");t.children(".sina-nav-overlay").addClass("off").removeClass("on")});t.find(".navbar-toggle").on("click",function(){n(".fa",this).toggleClass("fa-bars").toggleClass("fa-times")});t.find(".sina-menu, .extension-nav").each(function(){var t=this;n(".dropdown-toggle",t).on("click",function(n){return n.stopPropagation(),!1});n(".dropdown-menu",t).addClass(c+"animated");n(".dropdown",t).on("mouseenter",function(){var t=this;n(".dropdown-menu",t).eq(0).removeClass(y).stop().fadeIn().addClass(r);n(t).addClass("on")});n(".dropdown",t).on("mouseleave",function(){var t=this;n(".dropdown-menu",t).eq(0).removeClass(r).stop().fadeOut().addClass(y);n(t).removeClass("on")});n(".mega-menu-col",t).children(".sub-menu").removeClass("dropdown-menu "+c+"animated")});o<1025&&t.find(".menu-item-has-mega-menu").each(function(){var t=this,i=[];n(".mega-menu-col",t).children(".sub-menu").addClass("dropdown-menu "+c+"animated");n(".mega-menu-col",t).each(function(){var t=this;n(".mega-menu-col-title",t).on("mouseenter",function(){var t=this;n(t).closest(".mega-menu-col").addClass("on");n(t).siblings(".sub-menu").stop().fadeIn().addClass(r)});n(t).children().is(".mega-menu-col-title")||i.push(n(t).children(".sub-menu"))});n(t).on("mouseenter",function(){for(var n in i)i[n].stop().fadeIn().addClass(r)});n(t).on("mouseleave",function(){n(".dropdown-menu",t).stop().fadeOut().removeClass(r);n(".mega-menu-col",t).removeClass("on")})})})};n(".sina-nav").sinaNav()})(jQuery);